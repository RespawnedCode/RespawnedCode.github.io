<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Multi Fidget Spinners</title>
  <style>
    @font-face {
      font-family: 'Minecraftia';
      src: url('https://cdn.jsdelivr.net/gh/duy13/minecraft-font/Minecraftia.ttf') format('truetype');
    }

    body {
      margin: 0;
      background: linear-gradient(135deg, #333, #111);
      font-family: 'Minecraftia', monospace;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      user-select: none;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 20px;
      text-align: center;
    }

    .spinner-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }

    .spinner-box {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .spinner {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: #888;
      display: flex;
      justify-content: center;
      align-items: center;
      filter: grayscale(100%);
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
      margin-bottom: 10px;
      touch-action: none;
    }

    .spinner img {
      width: 90%;
      height: 90%;
      pointer-events: none;
      user-drag: none;
    }

    .counter {
      background: rgba(0, 0, 0, 0.4);
      padding: 5px 15px;
      border-radius: 10px;
      margin: 3px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <h1>RespawnedCode Fidget Spinner Zone</h1>

  <div class="spinner-container" id="spinnerContainer">
    <!-- Spinners will be added here -->
  </div>

  <script>
    const imageURL = "https://i.postimg.cc/xQsT1Xyg/fidgetspinner-d500c144.png";
    const spinnerCount = 3; // Change this number to add more spinners

    function createSpinnerElement(id) {
      const box = document.createElement("div");
      box.className = "spinner-box";

      const spinner = document.createElement("div");
      spinner.className = "spinner";
      spinner.id = "spinner" + id;

      const img = document.createElement("img");
      img.src = imageURL;
      spinner.appendChild(img);

      const speed = document.createElement("div");
      speed.className = "counter";
      speed.id = "speed" + id;
      speed.textContent = "Speed: 0";

      const streak = document.createElement("div");
      streak.className = "counter";
      streak.id = "streak" + id;
      streak.textContent = "Streak: 0";

      box.appendChild(spinner);
      box.appendChild(speed);
      box.appendChild(streak);

      return box;
    }

    const container = document.getElementById("spinnerContainer");

    const spinners = [];

    for (let i = 0; i < spinnerCount; i++) {
      const spinnerElement = createSpinnerElement(i);
      container.appendChild(spinnerElement);

      const spinner = spinnerElement.querySelector(".spinner");
      const speedDisplay = spinnerElement.querySelector(".counter:nth-child(2)");
      const streakDisplay = spinnerElement.querySelector(".counter:nth-child(3)");

      spinners.push({
        el: spinner,
        speedDisplay,
        streakDisplay,
        rotation: 0,
        velocity: 0,
        friction: 0.992,
        streak: 0,
        isDragging: false,
        center: { x: 0, y: 0 },
        lastAngle: 0,
        lastTime: 0
      });
    }

    function getPos(e) {
      return e.touches ? { x: e.touches[0].clientX, y: e.touches[0].clientY } : { x: e.clientX, y: e.clientY };
    }

    spinners.forEach((spinner, index) => {
      spinner.el.addEventListener("mousedown", startDrag(index));
      spinner.el.addEventListener("touchstart", startDrag(index), { passive: false });
    });

    window.addEventListener("mouseup", () => spinners.forEach(s => s.isDragging = false));
    window.addEventListener("touchend", () => spinners.forEach(s => s.isDragging = false));
    window.addEventListener("blur", () => spinners.forEach(s => s.isDragging = false));

    window.addEventListener("mousemove", handleDrag);
    window.addEventListener("touchmove", handleDrag, { passive: false });

    function startDrag(i) {
      return function (e) {
        const s = spinners[i];
        s.isDragging = true;
        const rect = s.el.getBoundingClientRect();
        s.center = {
          x: rect.left + rect.width / 2,
          y: rect.top + rect.height / 2
        };
        const pos = getPos(e);
        s.lastAngle = Math.atan2(pos.y - s.center.y, pos.x - s.center.x);
        s.lastTime = Date.now();
        e.preventDefault();
      };
    }

    function handleDrag(e) {
      spinners.forEach((s) => {
        if (!s.isDragging) return;
        const pos = getPos(e);
        const angle = Math.atan2(pos.y - s.center.y, pos.x - s.center.x);
        const delta = angle - s.lastAngle;
        const now = Date.now();
        const dt = now - s.lastTime;
        const newVel = delta * 1000 / dt * 3;
        if (Math.abs(newVel) > 0.4) s.streak++;
        s.velocity = newVel;
        s.rotation += delta * (180 / Math.PI);
        s.lastAngle = angle;
        s.lastTime = now;
        s.el.style.transform = `rotate(${s.rotation}deg)`;
      });
    }

    function animate() {
      spinners.forEach((s, i) => {
        if (!s.isDragging) {
          s.rotation += s.velocity;
          s.velocity *= s.friction;
          if (Math.abs(s.velocity) < 0.001) s.velocity = 0;
          s.el.style.transform = `rotate(${s.rotation}deg)`;
        }
        s.speedDisplay.textContent = "Speed: " + Math.abs(s.velocity).toFixed(2);
        s.streakDisplay.textContent = "Streak: " + s.streak;
      });
      requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>
</html>
